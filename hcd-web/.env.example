# =============================================================================
# HCD Interview Coach — Web Platform Environment Variables
# =============================================================================
# Copy this file to .env and fill in real values.
# Variables prefixed with NEXT_PUBLIC_ are exposed to the browser.
# =============================================================================

# ─── Database (required) ─────────────────────────────────────────────────────
# PostgreSQL connection string. Used by Drizzle ORM for all data persistence.
DATABASE_URL=postgresql://user:password@localhost:5432/hcd_web

# Redis connection (optional). Reserved for future session caching / rate limiting.
# REDIS_URL=redis://localhost:6379

# ─── Auth — Better Auth (required) ──────────────────────────────────────────
# Secret key for signing session cookies and tokens. Must be at least 32 characters.
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=your-secret-here-min-32-chars-generate-with-openssl

# Base URL of the auth server. Must match where the app is served.
BETTER_AUTH_URL=http://localhost:3000

# ─── Auth — OAuth Providers (optional) ──────────────────────────────────────
# Google OAuth credentials. Get from https://console.cloud.google.com/apis/credentials
# Set authorized redirect URI to: {BETTER_AUTH_URL}/api/auth/callback/google
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ─── OpenAI (required for coaching + transcription) ─────────────────────────
# OpenAI API key for the Realtime API (WebSocket transcription + coaching prompts).
OPENAI_API_KEY=sk-your-key-here

# ─── Recall.ai — Meeting Bot (required for Phase 2 live sessions) ───────────
# Recall.ai API key for deploying meeting bots into Zoom/Meet/Teams calls.
# Get from https://www.recall.ai
RECALL_API_KEY=your-recall-api-key

# Recall.ai webhook signing secret for verifying inbound webhook payloads.
# If unset, the webhook endpoint returns 503 (fail-closed).
RECALL_WEBHOOK_SECRET=your-webhook-secret

# Override for the base URL used when registering Recall.ai webhook callbacks.
# Defaults to NEXT_PUBLIC_APP_URL if not set. Useful when the server is behind
# a tunnel (e.g. ngrok) that differs from the public app URL.
# WEBHOOK_BASE_URL=https://your-tunnel.ngrok.io

# ─── App URLs (required) ────────────────────────────────────────────────────
# Public-facing app URL. Used by auth client, server-side fetches, and OAuth redirects.
NEXT_PUBLIC_APP_URL=http://localhost:3000

# WebSocket URL for real-time session communication (transcription, coaching, observers).
NEXT_PUBLIC_WS_URL=ws://localhost:3000/ws

# ─── Server (optional) ─────────────────────────────────────────────────────
# Hostname and port for the custom Node.js server (wrapping Next.js + WebSocket).
# Defaults shown below.
# HOSTNAME=localhost
# PORT=3000

# ─── Environment ────────────────────────────────────────────────────────────
NODE_ENV=development
